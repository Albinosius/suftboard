"use strict";function _createForOfIteratorHelper(e,t){var a,n,r,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(a=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){n=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(n)throw r}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var a;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}$(".form").submit(function(t){t.preventDefault();var e=$(t.currentTarget),a=e.find("[name='name']"),n=e.find("[name='phone']"),r=e.find("[name='comment']"),o=e.find("[name='to']"),i=$(".modal"),l=$(".fixed-menu"),c=i.find(".modal__content");i.removeClass("modal__content--error"),e=e,[a,n,r].forEach(function(e){e.removeClass("input-error"),""==e.val().trim()&&e.addClass("input-error")}),0==e.find(".input-error").length&&($.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"post",data:{name:a.val(),phone:n.val(),comment:r.val(),to:o.val()},success:function(e){c.text(e.message),i.addClass("modal--active"),l.addClass("fixed-menu--hidden"),t.target.reset()},error:function(e){c.text("Ошибка сервера"),i.addClass("modal--active"),i.addClass("modal__content--error"),l.addClass("fixed-menu--hidden")}}),document.body.style.overflow="hidden"),$(".app-submit-btn").click(function(e){e.preventDefault(),i.removeClass("modal--active"),l.removeClass("fixed-menu--hidden"),document.body.style.overflow=""})}),function(){function i(e,t){var a=(e=e.next()).children();e.width(t+"px"),a.outerWidth(t+"px")}function n(e){e.parent().removeClass("variants__item--active"),e.removeClass("variants__button--active"),i(e,0)}function r(e){var t,a,n,r,o;e.parent().addClass("variants__item--active"),e.addClass("variants__button--active"),t=e,a=524,n=$(window).width(),t=t.outerWidth(!0),r=window.matchMedia("(max-width: 768px").matches,o=window.matchMedia("(max-width: 480px").matches,r&&(a=n-t*l.length),i(e,a=o?n-t:a)}var l=$(".variants__item");$(".variants__button").click(function(e){e.preventDefault();var e=$(e.currentTarget),t=e.hasClass("variants__button--active"),a=$(".variants__button--active");e.hasClass("variants__button")&&t&&a&&n(a),e.hasClass("variants__button")&&!t&&(a&&n(a),r(e))})}(),function(){var e=document.querySelector(".hamburger"),t=document.querySelector(".overlay"),a=document.body;function n(){e.classList.toggle("hamburger--active"),t.classList.toggle("overlay--active"),a.classList.toggle("body--active-menu")}document.querySelectorAll(".hamburger-menu__link").forEach(function(e){e.addEventListener("click",n)}),e.addEventListener("click",function(e){e.preventDefault()}),e.addEventListener("click",n)}(),function(){var t;ymaps.ready(function(){t=new ymaps.Map("map",{center:[55.752004,37.576133],zoom:13,controls:[]});var e=new ymaps.Placemark([55.752004,37.576133],{},{iconLayout:"default#image",iconImageHref:"./images/icons/marker.svg",iconImageSize:[58,73],iconImageOffset:[-29,-73]});t.geoObjects.add(e),t.behaviors.disable("scrollZoom")})}(),function(){var e,a=document.querySelector(".wrapper").querySelector(".main-content"),s=a.querySelectorAll(".section"),n=document.querySelectorAll(".fixed-menu__item"),t=document.querySelectorAll("[data-scroll-to]"),r=!1,o=_createForOfIteratorHelper(t);try{for(o.s();!(e=o.n()).done;)!function(){var t=e.value;t.addEventListener("click",function(e){e.preventDefault(),i(t.dataset.scrollTo)})}()}catch(e){o.e(e)}finally{o.f()}function i(c){var e="".concat(-100*c,"%");function t(e){e[c].classList.add("is-active");var t,a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;n!=e[c]&&n.classList.remove("is-active")}}catch(e){a.e(e)}finally{a.f()}var r=s[c].dataset.light,o=$(".fixed-menu__item"),i=$(".fixed-menu__link"),l=$(".hamburger__plank");1==r?(o.addClass("dark"),i.addClass("dark"),l.addClass("dark")):(o.removeClass("dark"),i.removeClass("dark"),l.removeClass("dark"))}r||(r=!0,t(s),a.style.transform="translateY(".concat(e,")"),setTimeout(function(){r=!1,t(n)},1e3))}function l(e){var t=function(e){for(var t=0;t<e.length;t++){var a=e[t];if(a.classList.contains("is-active"))return{iterIndex:t,iterActive:a,iterNext:a.nextElementSibling,iterPrev:a.previousElementSibling}}}(s);"up"===e&&t.iterNext&&i(t.iterIndex+1),"down"===e&&t.iterPrev&&i(t.iterIndex-1)}document.addEventListener("wheel",function(e){l(0<e.deltaY?"up":"down")}),document.addEventListener("keydown",function(e){switch(e.keyCode){case 40:l("up");break;case 38:l("down")}})}();var player,playerContainer=$(".player"),volBtn=$(".player__volume-button"),volIcon=$(".player__volume-icon"),eventsInit=function(){$(".player__start").click(function(e){e.preventDefault(),playerContainer.hasClass("paused")?player.pauseVideo():player.playVideo()}),$(".player__playback").click(function(e){var t=$(e.currentTarget),e=e.originalEvent.layerX/t.width()*100,t=player.getDuration()/100*e;$(".player__playback-button").css({left:"".concat(e,"%")}),player.seekTo(t)}),$(".player__wrapper").click(function(e){player.playVideo()}),$(".player__volume-pic").click(function(e){e.preventDefault(),player.isMuted()?(player.unMute(),e=player.getVolume(),volIcon.removeClass("mute"),volBtn.css({left:"".concat(e,"%")})):(player.mute(),volIcon.addClass("mute"),volBtn.css({left:"0%"}))}),$(".player__volume").click(function(e){formatVolume(e)})},formatVolume=function(e){var t=$(e.currentTarget),e=e.originalEvent.layerX/t.width()*100;player.mute()&&(player.unMute(),volIcon.removeClass("mute")),player.setVolume(e),$(".player__volume-button").css({left:"".concat(e,"%")})},formatTime=function(e){var e=Math.round(e),t=a(Math.floor(e/60)),e=a(e-60*t);function a(e){return e<10?"0".concat(e):e}return"".concat(t,":").concat(e)},onPlayerReady=function(){var t=player.getDuration();clearInterval(void 0),setInterval(function(){var e=player.getCurrentTime()/t*100;$(".player__playback-button").css({left:"".concat(e,"%")})},1e3)},onPlayerStateChange=function(e){switch(e.data){case 1:playerContainer.removeClass("active"),playerContainer.addClass("paused");break;case 2:playerContainer.addClass("active"),playerContainer.removeClass("paused")}};function onYouTubeIframeAPIReady(){player=new YT.Player("yt-player",{height:"405",width:"660",videoId:"M7lc1UVf-VE",events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange},playerVars:{controls:0,disablekd:0,showinfo:0,rel:0,autoplay:0,modestbranding:0}})}eventsInit(),$(".interactive-avatar__link").on("click",function(e){e.preventDefault();var a,e=$(e.currentTarget),t=e.attr("data-open"),t=(a=t,$(".reviews__item").filter(function(e,t){return $(t).attr("data-linked-with")==a})),e=e.closest(".interactive-avatar");t.addClass("reviews__item--active").siblings().removeClass("reviews__item--active"),e.addClass("interactive-avatar--active").siblings().removeClass("interactive-avatar--active")}),function(){var t=$(".slider__link").bxSlider({pager:!1,controls:!1,wrapperClass:!1});$(".arrow--left").click(function(e){e.preventDefault(),t.goToPrevSlide()}),$(".arrow--right").click(function(e){e.preventDefault(),t.goToNextSlide()})}(),function(){function r(e){var t=e.find(".team__content"),a=e.find(".team__item"),e=e.find(".team__title-triangle");a.removeClass("active"),e.removeClass("team__title-triangle--active"),t.height(0)}$(".team__title").click(function(e){var t,a,e=$(e.currentTarget),n=e.closest(".team");e.closest(".team__item").hasClass("active")?r(n):(r(n),n=(n=e).closest(".team__item"),e=n.find(".team__content"),t=n.find(".team__title-triangle"),a=e.find(".team__inf").height(),n.addClass("active"),t.addClass("team__title-triangle--active"),e.height(a))})}();